<!-- IF prefered observable compare to ngOnChanges we can remove rows and colsname-->
<!-- 
  <pnx-monitoring-properties-g [newParentType]="objParent" [objectType]="objectType" *ngIf="!bEdit" [(bEdit)]="bEdit" [selectedObj]="site">
  </pnx-monitoring-properties-g> -->
<div>
  <span class="obj-title"
    >{{ bEdit ? 'Editer le ' : 'Détails du ' }}{{ siteService.objectObs.label }}:</span
  >
  <span *ngIf="site" class="obj-description"> {{ site.base_site_name }} </span>
</div>
<pnx-monitoring-form-g
  #monitoringFormComponentG
  [obj]="site"
  (objChanged)="onObjChanged($event)"
  *ngIf="bEdit"
  [(bEdit)]="bEdit"
  [apiService]="siteService"
  [isExtraForm]="true"
>
  <btn-select
    add-select
    *ngIf="bEdit"
    (sendobject)="onSendConfig($event)"
    [titleBtn]="titleBtn"
    [placeholderText]="placeholderText"
    [callBackFunction]="funcToFilt"
    [initValueFunction]="funcInitValues"
    [paramToFilt]="paramToFilt"
    [isInitialValues]="isInitialValues"
  ></btn-select>
</pnx-monitoring-form-g>
<pnx-monitoring-properties-g
  *ngIf="!bEdit"
  [(bEdit)]="bEdit"
  [newParentType]="objParent"
  [selectedObj]="objResolvedProperties"
  [selectedObjRaw]="objSelected"
></pnx-monitoring-properties-g>
<pnx-monitoring-datatable-g
  *ngIf="!bEdit"
  [dataTableArray]="dataTableArray"
  [dataTableObj]="dataTableObj"
  [rows]="rows"
  [colsname]="colsname"
  (onSort)="setSort($event)"
  [page]="page"
  (onFilter)="setFilter($event)"
  (onSetPage)="setPage($event)"
  [obj]="visits"
  (onDetailsRow)="seeDetails($event)"
  (onEditEvent)="editChild($event)"
  (onDeleteEvent)="onDelete($event)"
  [bDeleteModalEmitter]="bDeleteModalEmitter"
>
  <option-list-btn
    add-button
    placeholder="Sélectionner le protocole"
    label="Ajouter une visite"
    [optionList]="modules"
    (onDeployed)="getModules()"
    (onSaved)="addNewVisit($event)"
  ></option-list-btn
></pnx-monitoring-datatable-g>
