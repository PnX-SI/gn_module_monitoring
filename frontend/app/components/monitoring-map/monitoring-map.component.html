<div id="geometry" class="monitoring-map-container">
  <pnx-map
  [height]="heightMap"
  [ngClass]="{ 'hide-draw-form': !bEdit}"
  
  >

    <pnx-draw-form
      [parentFormControl]="objForm && objForm.controls && objForm.controls['geometry']"
      [geometryType]="obj && obj.config['geometry_type']"
      [bZoomOnPoint]="false"
      [bEdit]="bEdit"
    ></pnx-draw-form>

    <pnx-geojson
      *ngIf="sites && sites['features']"
      [geojson]="sites"
      [zoomOnLayer]="true"
      [zoomOnFirstTime]="true"
    ></pnx-geojson>
    
    <pnx-gps 
    *ngIf="bEdit" 
    (markerChanged)="sendGeoInfo($event)"
    
   
    >
  </pnx-gps>

  <pnx-leaflet-filelayer
  *ngIf="bEdit"
  [editMode]="true"
  (onLoad)="infoMessageFileLayer()"
  (onGeomChange)="sendGeoInfo($event)"
  [style]="{'color': 'green'}">
</pnx-leaflet-filelayer> 

  </pnx-map>
</div>
