<div class="object">
  <pnx-modal-msg [bDisplayModal]="!(obj && obj.bIsInitialized)">
    <h2>{{ 'Monitoring.Module.Loading' | translate }}</h2>
    <div>
      <span class="center spinner-border" role="status" aria-hidden="true"></span>
    </div>
  </pnx-modal-msg>

  <div class="flex-container" id="object">
    <div id="monitoring-map-container" class="cadre">
      <pnx-monitoring-map
        *ngIf="heightMap"
        [obj]="obj"
        [geolocation]="true"
        [bEdit]="bEdit"
        [objForm]="objForm"
        [(objectsStatus)]="objectsStatus"
        [sites]="sites"
        [sitesGroup]="sitesGroup"
        [heightMap]="heightMap"
      ></pnx-monitoring-map>
    </div>

    <div id="monitoring-elem-container" class="cadre scroll">
      <pnx-monitoring-breadcrumbs
        [(bEdit)]="bEdit">
      </pnx-monitoring-breadcrumbs>
      <div>
        <span class="obj-title" *ngIf="obj.bIsInitialized" [innerHTML]="obj.titleHTML(this.bEdit)"></span>
      </div>
      <div *ngIf="!moduleSet && obj.bIsInitialized" class="alert alert-warning">
        <p>{{ 'Monitoring.Module.NotConfigured' | translate }}</p>

        <p>{{ 'Monitoring.Module.EditModule' | translate }}</p>
      </div>

      <pnx-monitoring-properties id="nav-properties" [obj]="obj" *ngIf="!bEdit && obj.bIsInitialized" [(bEdit)]="bEdit"
        [currentUser]="currentUser"></pnx-monitoring-properties>
      <pnx-monitoring-form [obj]="obj" *ngIf="bEdit && obj?.bIsInitialized"
        [(bEdit)]="bEdit" [objForm]="objForm" [currentUser]="currentUser"></pnx-monitoring-form>

      <pnx-monitoring-lists [(obj)]="obj" [(bEdit)]="bEdit" *ngIf="!bEdit && obj && obj.bIsInitialized && moduleSet"
        [(selectedObject)] = "selectedObject"
        [(forceReload)] = "forceReload"
        (onDeleteRow) = "onDeleteRowChange($event)"
        [currentUser]="currentUser"></pnx-monitoring-lists>
    </div>
  </div>
</div>